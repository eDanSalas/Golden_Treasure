<nav class="navbar navbar-dark navbar-expand-lg myNav" [class.scrolled]="isScrolled">
    <div class="container-fluid d-flex flex-column">

        <div class="nav-up w-100 d-flex align-items-center justify-content-between py-2 px-3">
            <img src="images/logo.png" alt="Logo" width="80" height="80">
        
            <div class="d-flex flex-column text-start div-text">
                <span class="brand-line bl1">Golden</span>
                <span class="brand-line bl2">Treasure</span>
            </div>
        
            <div class="user-avatar position-relative d-flex flex-column align-items-center">
                <img src="images/avatar.jpg" alt="User Avatar" width="50" height="50" class="rounded-circle cursor-pointer"
                    [ngClass]="{'opacity-img': !isScrolled, 'no-opacity-img': isScrolled}" (click)="toggleMenu()">
            
                @if (loggedAdminName) {
                    <div class="mt-1 text-gold text-center small fw-bold">
                        {{ loggedAdminName }}
                    </div>
                }
            
                @if (menuOpen && loggedAdminName) {
                    <div class="user-menu bg-light border rounded shadow-sm animate-menu">
                        <ul class="list-unstyled mb-0">
                            <li>
                                <button class="dropdown-item text-dark small" [routerLink]="['/dashboard', loggedAdminId]" (click)="menuOpen = false">
                                    Dashboard
                                </button>
                            </li>
                            <li>
                                <button class="dropdown-item text-dark small" (click)="logout()">
                                    Cerrar sesión
                                </button>
                            </li>
                        </ul>
                    </div>
                }
            </div>

            @if (showLoginModal) {
                <div class="modal-backdrop" (click)="closeLoginModal()"></div>
                <div class="login-modal card shadow p-4">
                    <h5 class="mb-3 text-center text-gold">Iniciar sesión</h5>
                    <form (ngSubmit)="submitLogin()" #loginForm="ngForm">
                        <div class="mb-3">
                            <label class="form-label text-white">ID</label>
                            <input type="number" class="form-control" [(ngModel)]="loginId" name="loginId" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label text-white">Contraseña</label>
                            <input type="password" class="form-control" [(ngModel)]="loginPassword" name="loginPassword" required>
                        </div>
                        <div class="d-flex justify-content-between">
                            <button type="button" class="btn btn-secondary btn-sm" (click)="closeLoginModal()">Cancelar</button>
                            <button type="submit" class="btn btn-gold btn-sm" [disabled]="!loginForm.valid">Ingresar</button>
                        </div>
                    </form>
                </div>
            }
        </div>


        <span class="separator w-100"></span>

        <div class="w-100 d-flex flex-column">
            <button class="navbar-toggler align-self-end mb-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse myDivNav" id="navbarNav">
                <ul class="navbar-nav d-flex justify-content-center w-100">
                    <li class="nav-item mx-5">
                        <a class="nav-link" [routerLink]="['/inicio']">Inicio</a>
                    </li>
                    <li class="nav-item mx-5">
                        <a class="nav-link" [routerLink]="['/alojamiento']">Alojamiento</a>
                    </li>
                    <li class="nav-item mx-5">
                        <a class="nav-link" [routerLink]="['/ofertas']">Ofertas</a>
                    </li>
                    <li class="nav-item mx-5">
                        <a class="nav-link" [routerLink]="['/servicios']">Servicios</a>
                    </li>
                    <li class="nav-item mx-5">
                        <a class="nav-link" [routerLink]="['/comentarios']">Comentarios</a>
                    </li>
                </ul>
            </div>
        </div>

    </div>
</nav>